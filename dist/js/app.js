let btnInteraction=document.querySelectorAll(".header .interaction .btn"),modalLogin=document.querySelector(".modal__container"),forms=document.querySelectorAll(".modal .form"),inputs=document.querySelectorAll(".form .input__group input"),linkOtherForm=document.querySelectorAll(".link__login"),iconClose=document.querySelectorAll(".icon__close"),iconPass=document.querySelectorAll(".input__icon");const regExpres={user:/^[a-zA-Z]{3,16}$/,email:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,password:/^[a-z0-9_-]{8,18}$/},isValidateInput={user:!1,email:!1,password:!1,password2:!1};btnInteraction.forEach((e=>{e.classList.contains("user__logged--out")&&e.addEventListener("click",(()=>{modalLogin.classList.add("modal__container--active"),modalLogin.classList.remove("modal__container"),e.classList.contains("interaction__login")?modalLogin.firstChild.classList.add("modal--active"):e.classList.contains("interaction__register")&&modalLogin.lastChild.classList.add("modal--active")}))})),iconClose.forEach((e=>{e.addEventListener("click",(()=>{e.parentNode.parentNode.classList.remove("modal--active"),modalLogin.classList.contains("modal__container--active")&&(modalLogin.classList.remove("modal__container--active"),modalLogin.classList.add("modal__container")),resetForm()}))}));const closeModal=()=>{modalLogin.classList.add("modal__container"),modalLogin.classList.remove("modal__container--active"),modalLogin.firstChild.classList.remove("modal--active"),modalLogin.lastChild.classList.remove("modal--active")};linkOtherForm.forEach(((e,t)=>{e.addEventListener("click",(()=>{0===t?(modalLogin.firstChild.classList.remove("modal--active"),modalLogin.lastChild.classList.add("modal--active")):(modalLogin.lastChild.classList.remove("modal--active"),modalLogin.firstChild.classList.add("modal--active"))}))}));const validateForm=e=>{switch(e.target.name){case"user__name":""!==e.target.value&&validateInput(regExpres.user,e.target.value,e.target,"user");break;case"email__register":case"email__login":validateInput(regExpres.email,e.target.value,e.target,"email","La dirección no es correcta");break;case"password__register":case"password__login":validateInput(regExpres.password,e.target.value,e.target,"password");break;case"repeat__password__register":e.target.value==document.querySelector("#password__register").value?(e.target.classList.remove("validate--error"),e.target.nextElementSibling.textContent="",isValidateInput.password2=!0):(e.target.classList.add("validate--error"),e.target.nextElementSibling.textContent="Las contraseñas no coinciden",isValidateInput.password2=!1)}forms.forEach((e=>{e.classList.contains("form__login")&&(isValidateInput.email&&isValidateInput.password?document.querySelector(".form__login--withEmail .btn__submit").removeAttribute("disabled"):document.querySelector(".form__login--withEmail .btn__submit").setAttribute("disabled","disabled")),e.classList.contains("form__register")&&(isValidateInput.user&&isValidateInput.email&&isValidateInput.password&&isValidateInput.password2?document.querySelector(".form__register--create .btn__submit").removeAttribute("disabled"):document.querySelector(".form__register--create .btn__submit").setAttribute("disabled","disabled"))}))},validateInput=(e,t,a,s,i)=>{""!=a.value?e.test(t)?(a.classList.remove("validate--error"),a.nextElementSibling.textContent="",isValidateInput[s]=!0):(a.classList.add("validate--error"),a.nextElementSibling.textContent=i,isValidateInput[s]=!1):a.classList.contains("validate--error")&&(a.classList.remove("validate--error"),a.nextElementSibling.textContent="")},resetForm=()=>{inputs.forEach((e=>{e.value=""}));for(let e in isValidateInput)isValidateInput[e]=!1};iconPass.forEach((e=>{console.log(e),e.addEventListener("click",(()=>{let t=e.previousElementSibling;""!==t.value&&("password"===t.getAttribute("type")?(t.setAttribute("type","text"),e.setAttribute("src","/dist/assets/icons/eye-open.png")):(t.setAttribute("type","password"),e.setAttribute("src","/dist/assets/icons/eye-close.png")))}))})),inputs.forEach((e=>{e.addEventListener("keyup",(e=>validateForm(e))),e.addEventListener("blur",(e=>validateForm(e))),"user__name"===e.name&&""===e.value&&(isValidateInput.user=!0)}));const rotateImages=()=>{let e=document.querySelector(".information__app__img img");setInterval((()=>{let t=Math.round(4*Math.random()+1);e.setAttribute("src",`/dist/assets/images/pets${t}.png`)}),5e3)};"/dist/index.html"===location.pathname&&rotateImages();