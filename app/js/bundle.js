import{initializeApp}from"firebase/app";import{getAuth}from"firebase/auth";const firebaseConfig={apiKey:"AIzaSyBlbGMnS8UVk3ZUrlNDgYsX0q4jLum-aWA",authDomain:"pet-tracking-79e8a.firebaseapp.com",projectId:"pet-tracking-79e8a",storageBucket:"pet-tracking-79e8a.appspot.com",messagingSenderId:"248212976670",appId:"1:248212976670:web:8fb86899b7441a291e2a0f"},app=initializeApp(firebaseConfig),auth=getAuth(app);import{async}from"@firebase/util";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,GoogleAuthProvider,signInWithPopup}from"firebase/auth";import{doc,setDoc,getDoc}from"firebase/firestore";forms.forEach((e=>{e.addEventListener("submit",(async t=>{t.preventDefault();let o=document.querySelector("#user__name").value,s=document.querySelector("#email__register").value,a=document.querySelector("#password__register").value;if(e.classList.contains("form__register")){closeModal();await createUserWithEmailAndPassword(auth,s,a);const e=auth.currentUser.uid;await setDoc(doc(db,"users",e),{Datos_personales:{Nombre:o,Email:s}})}if(e.classList.contains("form__login")){await signInWithEmailAndPassword(auth,s,a);closeModal(),signInWithEmailAndPassword(auth,s,a).then((e=>{e.user})).catch((e=>{console.log(e.message)}))}}))}));let btnGoogle=document.querySelector(".btn--google");btnGoogle.addEventListener("click",(()=>{const e=new GoogleAuthProvider;signInWithPopup(auth,e).then((e=>{GoogleAuthProvider.credentialFromResult(e).accessToken;const t=e.user;closeModal();const o=auth.currentUser.uid;setDoc(doc(db,"users",o),{Datos_personales:{Nombre:t.displayName,Email:t.email}})})).catch((e=>{console.log(e.message)}))}));import{signOut}from"firebase/auth";let btnLogout=document.querySelectorAll(".interaction__logout"),menuMobile=document.querySelector(".menu__primary");btnLogout.forEach((e=>{e.addEventListener("click",(t=>{signOut(auth).then((t=>{e.classList.contains("user__logged--out")&&e.classList.add("btn--enabled"),e.classList.contains("user__logged--in")&&e.classList.remove("btn--enabled"),menuMobile.classList.remove("menu--active"),btnMenuMobile.classList.remove("btn--enabled")})).catch((e=>{console.log(e)}))}))}));import{onAuthStateChanged}from"firebase/auth";let btnInteraction=document.querySelectorAll(".header .interaction .btn"),btnMenuMobile=document.querySelector(".icon__menu"),informationAppLoggedOut=document.querySelector(".information__app"),petEmpty=document.querySelector(".pet__empty");onAuthStateChanged(auth,(e=>{btnInteraction.forEach((t=>{e?(t.classList.contains("user__logged--out")&&t.classList.remove("btn--enabled"),t.classList.contains("user__logged--in")&&(window.outerWidth>=768?(t.classList.add("btn--enabled"),btnMenuMobile.classList.remove("btn--enabled")):btnMenuMobile.classList.add("btn--enabled")),location.pathname.includes("index")&&informationAppLoggedOut.classList.remove("section__fade--in"),petEmpty.classList.add("section__fade--in"),showIconMenu(),showPets()):(t.classList.contains("user__logged--out")&&t.classList.add("btn--enabled"),t.classList.contains("user__logged--in")&&t.classList.remove("btn--enabled"),location.pathname.includes("index")&&informationAppLoggedOut.classList.add("section__fade--in"))}))}));